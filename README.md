# IoT-MLops ¬´–ö–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∞¬ª

üå°Ô∏è IoT-—Å–∏—Å—Ç–µ–º–∞, –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—é—â–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —Å –ø–æ–º–æ—â—å—é ONNX-–º–æ–¥–µ–ª–∏, –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ Grafana –∏ –ø—Ä–∏—Å—ã–ª–∞–µ—Ç Telegram-–æ–ø–æ–≤–µ—â–µ–Ω–∏—è.

## üìå –¶–µ–ª—å

–°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –¥–∞—Ç—á–∏–∫–∞ DHT22, –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –Ω–∞ 10 –º–∏–Ω—É—Ç –≤–ø–µ—Ä—ë–¥ —Å –ø–æ–º–æ—â—å—é ML-–º–æ–¥–µ–ª–∏, —Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –∞ —Ç–∞–∫–∂–µ –æ–ø–æ–≤–µ—â–∞—Ç—å –ø—Ä–∏ —Å–±–æ—è—Ö.

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

DHT22 ‚Üí Python (collector.py) ‚Üí InfluxDB ‚Üí Python (predictor.py, ONNX) ‚Üí InfluxDB ‚Üí Grafana ‚Üí Telegram

## üß± –°—Ç–µ–∫

- Python 3 (—Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏ ML-–∏–Ω—Ñ–µ—Ä–µ–Ω—Å)
- InfluxDB (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã)
- ONNX (–ª–∏–Ω–µ–π–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è, <100KB)
- Grafana (–¥–∞—à–±–æ—Ä–¥)
- Prometheus + AlertManager (–∞–ª–µ—Ä—Ç—ã)
- Telegram-–±–æ—Ç
- Helm + Argo CD (–¥–µ–ø–ª–æ–π)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞


## ‚úÖ Acceptance-–∫—Ä–∏—Ç–µ—Ä–∏–∏

- –î–∞—à–±–æ—Ä–¥ –¥–æ—Å—Ç—É–ø–µ–Ω: `http://<pi>:3000/d/iot`
- Telegram-–±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ `MAE ok`
- `python3 collector.py` —Å—Ç–∞–±–∏–ª—å–Ω–æ —á–∏—Ç–∞–µ—Ç —Å GPIO PA0 —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É
- `influx query "from(bucket:\"iot\")"` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å `retention: 7 –¥–Ω–µ–π`
- `model.onnx` < 100 –ö–ë, `pytest` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `MAE < 1¬∞C`
- –ü—Ä–µ–¥–∏–∫—Ç–æ—Ä –ø–∏—à–µ—Ç `pred_temp` –æ–±—Ä–∞—Ç–Ω–æ –≤ InfluxDB
- Telegram-–∞–ª–µ—Ä—Ç –ø—Ä–∏ `MAE > 1¬∞C` –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö >5 –º–∏–Ω—É—Ç
- Helm-—á–∞—Ä—Ç `iot-ml` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Argo CD (`argocd app list ‚Üí Synced`)

## üîç –ö–æ–º–∞–Ω–¥—ã

–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:
```bash
python3 collector.py
